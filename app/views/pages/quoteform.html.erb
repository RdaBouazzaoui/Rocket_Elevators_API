<!DOCTYPE html>
<html lang="en">
	<head>
	</head>

	<body class="smoothscroll enable-animation grain-blue">
		<!-- FORM -->
		<section id="requestform">
			<div class="container">
				<header class="text-center mb-60">
					<h2>Request a Quote</h2>
					<hr />
				</header>
				<!-- /Top Nav -->
			</div>


			<!-- FORM -->
			<section id="requestform"   action="/new_quote" method="post" enctype="multipart/form-data" data-success="Sent! Thank you!"	data-toastr-position="top-right">
				<div class="container">

					<header class="text-center mb-60">
						<h2>Request a Quote</h2>
						<hr />
					</header>

					<div class="row">
						<!-- FORM -->
						<div class="col-md-8 col-sm-8">

							<h3>Request Form: </h3>
							<!--
								MESSAGES
								
									How it works?
									The form data is posted to php/contact.php where the fields are verified!
									php.contact.php will redirect back here and will add a hash to the end of the URL:
										#alert_success 		= email sent
										#alert_failed		= email not sent - internal server error (404 error or SMTP problem)
										#alert_mandatory	= email not sent - required fields empty
										Hashes are handled by assets/js/contact.js

									Form data: required to be an array. Example:
										contact[email][required]  WHERE: [email] = field name, [required] = only if this field is required (PHP will check this)
										Also, add `required` to input fields if is a mandatory field. 
										Example: <input required type="email" value="" class="form-control" name="contact[email][required]">

									PLEASE NOTE: IF YOU WANT TO ADD OR REMOVE FIELDS (EXCEPT CAPTCHA), JUST EDIT THE HTML CODE, NO NEED TO EDIT php/contact.php or javascript
												 ALL FIELDS ARE DETECTED DINAMICALY BY THE PHP

									WARNING! Do not change the `email` and `name`!
												contact[name][required] 	- should stay as it is because PHP is using it for AddReplyTo (phpmailer)
												contact[email][required] 	- should stay as it is because PHP is using it for AddReplyTo (phpmailer)
							-->

							<!-- Alert Success -->
							<div id="alert_success" class="alert alert-success mb-30">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
								<strong>Thank You!</strong> Your message successfully sent!
							</div><!-- /Alert Success -->


							<!-- Alert Failed -->
							<div id="alert_failed" class="alert alert-danger mb-30">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
								<strong>[SMTP] Error!</strong> Internal server error!
							</div><!-- /Alert Failed -->


							<!-- Alert Mandatory -->
							<div id="alert_mandatory" class="alert alert-danger mb-30">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
								<strong>Sorry!</strong> You need to complete all mandatory (*) fields!
							</div><!-- /Alert Mandatory -->

							<!-- Quote Form -->
					
							<form id="quote-form" action="" method="post" enctype="text/plain">
								<fieldset>
									<div class="row">
										<div class="col-md-4">
											<label for="buildingSelect">Building Type: </label>
											<select id="buildingSelect" required class="form-control pointer" name="quote-form[buildingSelect]">
												<option value="">--- Select ---</option>
												<option value="Residential">Residential</option>
												<option value="Commercial">Commercial</option>
												<option value="Corporate">Corporate</option>
												<option value="Hybrid">Hybrid</option>
											</select>
										</div>
									</div>
								</div>

									<div class="row">
										<div class="col-md-4 r-form r-form-res">
											<label for="cNumApt"># of Apartments</label>
											<input type="number" min="0" step="1" name="quote[Nb_Appartement]" id="cNumApt" class="used-in-calc">
										</div>
										<div class="col-md-4 r-form r-form-com r-form-hyb">
											<label for="cNumBsns"># of Business</label>
											<input type="number" min="0" step="1" name="quote[Nb_Business]" id="cNumBsns">
										</div>
										<div class="col-md-4 r-form r-form-cor">
											<label for="cNumCom"># of Companies</label>
											<input type="number" min="0" step="1" name="" id="cNumCom">
										</div>
										<div class="col-md-4 r-form r-form-res r-form-com r-form-cor r-form-hyb">
											<label for="cNumFlr"># of Floors</label>
											<input type="number" min="0" step="1" name="quote[Nb_Floor]" id="cNumFlr" class="used-in-calc">
										</div>
										<div class="col-md-4 r-form r-form-res r-form-com r-form-cor r-form-hyb">
											<label for="cNumBsmt"># of Basements</label>
											<input type="number" min="0" step="1" name="quote[Nb_Basement]" id="cNumBsmt" class="used-in-calc"> 
										</div>
									</div>
									
									<div class="row">
										<div class="col-md-4 r-form r-form-com r-form-cor r-form-hyb">
											<label for="cNumPark"># of parking spaces</label>
											<input type="number" min="0" step="1" name="quote[Nb_Parking]" id="cNumPark">
										</div>
										<div class="col-md-4 r-form r-form-com">
											<label for="cNumElev"># of Elevator Cages</label>
											<input type="number" min="0" step="1" name="quote[Nb_Cage]" id="cNumElev" class="used-in-calc">
										</div>
										<div class="col-md-4 r-form r-form-cor r-form-hyb">
											<label for="cNumOcc"># of ðŸ§‘ per Floor</label>
											<input type="number" min="0" step="1" name="quote[Nb_OccupantPerFloor]" id="cNumOcc" class="used-in-calc">
										</div>
									</div>
									<div class="row">
										<div class="col-md-2 r-form r-form-hyb">
											<label for="actHours">Active Hours/day</label>
											<select id="actHours" class="form-control pointer" name="quote[Nb_OpperatingHour]">
												<option value="">-Select-</option>
											</select>
										</div>
									</div>

									<!-- radio buttons -->
									<div class="row">
										<div class="col-md-12 r-form r-form-elev">
											<label>Product: </label>
											<label class="radio" for="quote-form:std">
												<input class="radio-prod" type="radio" name="quote[Product_Grade]" value="std" id="quote-form:std">
												<i></i> Standard
											</label>
											<label class="radio" for="quote-form:prem">
												<input class="radio-prod" type="radio" name="quote[Product_Grade]" value="prem" id="quote-form:prem">
												<i></i> Premium
											</label>
											<label class="radio" for="quote-form:exc">
												<input class="radio-prod" type="radio" name="quote[Product_Grade]" value="exc" id="quote-form:exc">
												<i></i> Excelium
											</label>
										</div>
									</div>
									<div class="col-md-4 r-form r-form-res r-form-com r-form-cor r-form-hyb">
										<label for="cNumBsmt"># of Basements</label>
										<input type="number" min="0" step="1" name="quote-form[cNumBsmt]" id="cNumBsmt" class="used-in-calc"> 
									</div>
								</div>
								
								<div class="row">
									<div class="col-md-4 r-form r-form-com r-form-cor r-form-hyb">
										<label for="cNumPark"># of parking spaces</label>
										<input type="number" min="0" step="1" name="quote-form[cNumPark]" id="cNumPark">
									</div>
									<div class="col-md-4 r-form r-form-com">
										<label for="cNumElev"># of Elevator Cages</label>
										<input type="number" min="0" step="1" name="quote-form[cNumElev]" id="cNumElev" class="used-in-calc">
									</div>
									<div class="col-md-4 r-form r-form-cor r-form-hyb">
										<label for="cNumOcc"># of ðŸ§‘ per Floor</label>
										<input type="number" min="0" step="1" name="quote-form[cNumOcc]" id="cNumOcc" class="used-in-calc">
									</div>
								</div>
								<div class="row">
									<div class="col-md-2 r-form r-form-hyb">
										<label for="actHours">Active Hours/day</label>
										<select id="actHours" class="form-control pointer" name="quote-form[actHours]">
											<option value="">-Select-</option>
										</select>
									</div>
								</div>

										
									</div>
								</div>
							</div>
						</div>
						<a href="#" class="btn btn-primary btn-lg btn-block fs-15"><i class="fa fa-mail-forward"></i>Checkout</a>
					
					
						<!-- /RIGHT -->

								<div class="row">
									<p id="error-msg"></p>
								</div>
							</fieldset>
						</form>
						<!-- /Quote Form -->
					</div>
					<!-- /FORM -->

				</div>
					<button id="submitbutton" class="bbtn btn-primary btn-lg btn-block fs-15" type="submit">SUBMIT QUOTE &nbsp; <i class="fa fa-angle-right"></i></button>
			</section>
			<!-- /FORM -->


			<!-- FOOTER -->
			<footer id="footer">
				<div class="container-fluid">

						<!-- Elevator calc + price -->														
						<div class="toggle-transparent toggle-bordered-full clearfix">
							<div class="active">
								<div class="toggle-content">
									
									<span class="clearfix">
										<span class="float-right"></span>
										<strong class="float-left"># of Elevators</strong>
									</span>
									<span class="clearfix">
										<span id="calc-elev" class="float-right"></span>
										<strong class="float-left">   Suggested:</strong>
									</span>
									<hr />
									<span class="clearfix">
										<span id="calc-elev-price" class="float-right"></span>
										<strong class="float-left">Price/Elevator:</strong>
									</span>
									<hr />
								</div>
							</div>
						</div>

						<!-- Price Calc -->														
						<div class="toggle-transparent toggle-bordered-full clearfix">
							<div class="active">
								<div class="toggle-content">
									
									<span class="clearfix">
										<span id="calc-subtotal" class="float-right"></span>
										<strong class="float-left">Subtotal:</strong>
									</span>
									<span class="clearfix">
										<span id="calc-tax" class="float-right"></span>
										<span class="float-left">Install fee:</span>
									</span>
									<hr />
									<span class="clearfix">
										<span id="calc-total" class="float-right fs-20"></span>
										<strong class="float-left">TOTAL:</strong>
									</span>
									<hr />
									<a href="#" class="btn btn-primary btn-lg btn-block fs-15"><i class="fa fa-mail-forward"></i>Checkout</a>
								</div>
							</div>
						</div>
					</div>
					<!-- /RIGHT -->
				</div>
			</div>
		</div><!-- /PRELOADER -->


		<!-- JAVASCRIPT FILES -->
        <%= javascript_include_tag "scripts" %>
        <%= javascript_include_tag "calculator" %>
		<script>
				$("#requestform").submit(function(event){
					event.preventDefault(); //prevent default action 
					var post_url = $(this).attr("action"); //get form action url
					var request_method = $(this).attr("method"); //get form GET/POST method
					var form_data = $(this).serialize(); //Encode form elements for submission
					
					$.ajax({
						url : post_url,
						type: request_method,
						data : form_data
					}).done(function(response){ //
						alert('YOUR SUBMISSION HAVE BEEN RECEIVED');
						window.location="/";
					});
				});
			</script>

	</body>
</html>